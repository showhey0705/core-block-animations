/*!
 * Core Block Animations - Editor Bundle (Fixed Layout)
 * @package CoreBlockAnimations
 * @license GPL-2.0-or-later
 */
(()=>{const{addFilter:a}=wp.hooks,{createHigherOrderComponent:b}=wp.compose,{Fragment:c,createElement:h}=wp.element,{__:t}=wp.i18n,{PanelBody:d,ToggleControl:e,SelectControl:f,RangeControl:g,ToolbarButton:j}=wp.components,{InspectorControls:k,BlockControls:l}=wp.blockEditor,m=['core/block','core/template-part','core/widget-area'],n={enableAnimation:{type:'boolean',default:!1},animationType:{type:'string',default:'fade'},duration:{type:'number',default:600},delay:{type:'number',default:0},easing:{type:'string',default:'ease'}},o=[{label:t('Fade','core-block-animations'),value:'fade'},{label:t('Slide Up','core-block-animations'),value:'slide-up'},{label:t('Slide Left','core-block-animations'),value:'slide-left'},{label:t('Zoom In','core-block-animations'),value:'zoom-in'},{label:t('Rotate In','core-block-animations'),value:'rotate-in'}],p=[{label:t('Ease','core-block-animations'),value:'ease'},{label:t('Ease In','core-block-animations'),value:'ease-in'},{label:t('Ease Out','core-block-animations'),value:'ease-out'},{label:t('Ease In Out','core-block-animations'),value:'ease-in-out'},{label:t('Linear','core-block-animations'),value:'linear'},{label:t('Bounce Out','core-block-animations'),value:'cubic-bezier(0.68, -0.55, 0.265, 1.55)'},{label:t('Back Out','core-block-animations'),value:'cubic-bezier(0.175, 0.885, 0.32, 1.275)'},{label:t('Elastic Out','core-block-animations'),value:'cubic-bezier(0.68, -0.55, 0.265, 1.55)'},{label:t('Circ Out','core-block-animations'),value:'cubic-bezier(0.075, 0.82, 0.165, 1)'},{label:t('Quart Out','core-block-animations'),value:'cubic-bezier(0.165, 0.84, 0.44, 1)'}];function q({attributes:r,setAttributes:s}){const{enableAnimation:u,animationType:v,duration:w,delay:x,easing:y}=r,z=u?h('span',{className:'dashicons dashicons-controls-play',style:{fontSize:'16px',width:'16px',height:'16px',color:'#007cba'}}):h('span',{className:'dashicons dashicons-controls-pause',style:{fontSize:'16px',width:'16px',height:'16px',color:'#999'}});return h(k,{},h(d,{title:h(c,{},t('Animation','core-block-animations'),h('span',{className:'animation-status-indicator'},z)),initialOpen:!0},h(e,{label:t('Enable Animation','core-block-animations'),help:u?t('Animation will play when the block enters the viewport.','core-block-animations'):t('Enable to add entrance animation to this block.','core-block-animations'),checked:u,onChange:A=>s({enableAnimation:A})}),u&&h(c,{},h(f,{label:t('Animation Type','core-block-animations'),value:v,options:o,onChange:A=>s({animationType:A}),help:t('Choose how the block animates into view.','core-block-animations')}),h(g,{label:t('Duration (ms)','core-block-animations'),value:w,onChange:A=>s({duration:A}),min:50,max:5e3,step:50,help:t('How long the animation takes to complete.','core-block-animations')}),h(g,{label:t('Delay (ms)','core-block-animations'),value:x,onChange:A=>s({delay:A}),min:0,max:5e3,step:50,help:t('Wait time before the animation starts.','core-block-animations')}),h(f,{label:t('Easing','core-block-animations'),value:y,options:p,onChange:A=>s({easing:A}),help:t('The timing function for the animation.','core-block-animations')}))))}a('blocks.registerBlockType','cba/add-attributes',(r,s)=>!s.startsWith('core/')||m.includes(s)?r:{...r,attributes:{...r.attributes,...n}});let editorDataAttributes=new Map();a('editor.BlockEdit','cba/add-controls',b(B=>r=>{const{name:s,attributes:u,setAttributes:v,clientId:C}=r;if(!s.startsWith('core/')||m.includes(s)||!u.hasOwnProperty('enableAnimation'))return h(B,r);const{enableAnimation:w}=u;editorDataAttributes.set(C,w);setTimeout(()=>{const blockEl=document.querySelector(`[data-block="${C}"]`);if(blockEl){if(w){blockEl.setAttribute('data-has-animation','true')}else{blockEl.removeAttribute('data-has-animation')}}},0);return h(c,{},h(l,{},h(j,{icon:'controls-play',label:t('Toggle Animation','core-block-animations'),isPressed:w,onClick:()=>v({enableAnimation:!w})})),h(B,r),h(q,{attributes:u,setAttributes:v}))},'withAnimationControls')),a('blocks.getSaveContent.extraProps','cba/save-extra-props',(r,s,u)=>{const{enableAnimation:v,animationType:w,duration:x,delay:y,easing:z}=u;return!v||!s.name.startsWith('core/')||m.includes(s.name)?r:{...r,'data-anim':w||'fade','data-anim-duration':x||600,'data-anim-delay':y||0,'data-anim-easing':z||'ease',className:`${r.className||''} cba-anim`.trim()}})})();